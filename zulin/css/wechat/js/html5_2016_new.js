M.define("html5_2016",function(a){var b=function(c){this.init(c)};M.object.merge(b.prototype,{init:function(c){if(M.object.isObject(c)){this.imgStaticSrc=c.imgStaticSrc?c.imgStaticSrc:"";if(c&&c.head){this.head=true}else{this.head=false}if(c&&c.footer){this.footer=true;this.footerInit(c.footer)}if(c&&c.appDown){this.appdownInit(c.appDown)}}},headRender:function(){var d=this;var e=navigator.userAgent.indexOf("jdmsxh");var c=navigator.userAgent.indexOf("jdmsxh2");if(e>=0&&e!=c){$("#layout_jdKey").hide()}else{$("#layout_jdKey").on("click",function(){if($("#layout_jdBar").css("display")=="none"){$("#layout_jdBar").attr("style","")}else{$("#layout_jdBar").attr("style","display:none;")}})}$("#layout_urlblack").on("click",function(){d.pageBack()})},pageBack:function(){var c=window.location.href;if(/#top/.test(c)){window.history.go(-2);window.location.load(window.location.href)}else{window.history.back()}},footerInit:function(f){var d=this;var d=this;var e=navigator.userAgent.indexOf("jdmsxh");var c=navigator.userAgent.indexOf("jdmsxh2");if(e>=0&&e!=c){$("footer").hide()}else{if(f){if(M.object.isObject(f)){d.toPcHomeUrl=f.toPcHomeUrl?f.toPcHomeUrl:"//www.jd.com/#m"}else{d.toPcHomeUrl="//www.jd.com/#m"}}}},footerRender:function(){var c=this;$("#layout_toPcHome").on("click",function(){c.toPcHome()})},toPcHome:function(){var c=this;M.cookie.setCookie("pcm","1",1,"",".jd.com");window.location.href=c.toPcHomeUrl},appdownInit:function(d){var c=this;if(d){if(d.withScreen){c.appDownWithScreen=true}else{c.appDownWithScreen=false}c.downloadAppContentUP=d.downloadAppContentUP;c.downloadAppContentDown=d.downloadAppContentDown;c.downloadAppImg=d.downloadAppImg;c.downloadApplogo=d.downloadApplogo;c.downloadAppBtnContent=d.downloadAppBtnContent;c.appdownShow=true;c.hasAppDown=true;c.downloadHideTime=1;c.sourceValue=d.sourceValue;c.sourceType=d.sourceType;c.M_sourceFrom=d.M_sourceFrom;if(d.appDownContentStyle){c.appDownContentStyle=d.appDownContentStyle}}else{c.hasAppDown=false}},appdownHtml:function(){var g=this;var d=[];if(g.downloadAppImg){d.push('<div id="layout_appdown" class="download-pannel '+(g.appDownWithScreen?" download-footer":"")+'">');d.push('<div class="pannel-bg"><img src="'+g.downloadAppImg+'"></div>')}else{d.push('<div id="layout_appdown" class="download-pannel download-noBg '+(g.appDownWithScreen?" download-footer":"")+'">');d.push('<div class="pannel-bg"><img /></div>')}d.push('<div id="layout_close_appdown" class="download-close"><img src="'+g.imgStaticSrc+'/images/downloadApp/icon-close.png"></div>');d.push('<div class="download-logo"><img src="'+g.downloadApplogo+'"></div>');d.push('<div class="download-txt">');d.push('    <span class="download-content">');var c=g.appDownContentStyle.downloadAppContentUPstyle?g.appDownContentStyle.downloadAppContentUPstyle:"";d.push('        <em style="'+c+'" class="content-up">'+g.downloadAppContentUP+"</em>");var f=g.appDownContentStyle.downloadAppContentDownstyle?g.appDownContentStyle.downloadAppContentDownstyle:"";d.push('        <em  style="'+f+'" class="content-down">'+g.downloadAppContentDown+"</em>");d.push("    </span>");d.push("</div>");d.push('<div  id="layout_open_app" class="download-action">');var e=g.appDownContentStyle.downloadAppBtnContentstyle?g.appDownContentStyle.downloadAppBtnContentstyle:"";if(g.downloadAppBtnContent.length>4){d.push('    <span style="'+e+'" class="">'+g.downloadAppBtnContent+"</span>")}else{d.push('    <span style="'+e+'" class="font-large">'+g.downloadAppBtnContent+"</span>")}d.push("</div>");d.push("</div>");return d.join("")},appdownBind:function(){var e=this;var d={openAppBtnId:"layout_open_app",closePanelBtnId:"layout_close_appdown",closePanelId:"layout_appdown",closeCallblack:function(){$("#layout_appdown").attr("search_land_searchTransformation_show","true");$("#layout_head").css("height","");$("#layout_head").css("height",$("#layout_head").height())},closeCallblackSource:null,sourceType:e.sourceType,sourceValue:e.sourceValue,downAppURl:"//h5.m.jd.com/active/download/download.html?channel=jd-mso",downWeixin:"//h5.m.jd.com/active/download/download.html?channel=jd-mso",M_sourceFrom:e.M_sourceFrom};var c=$;c.downloadAppPlugIn(d)},appdownRender:function(){var d=this;var c=d.appdownHtml();$("#layout_appdown_view").html(c);d.appdownBind()},run:function(){if(this.footer){this.footerRender()}if(this.head){this.headRender()}if(this.hasAppDown){this.appdownRender()}}});a.clazz=b});